#
# create a static library
#

CFLAGS = -g -Wall
LDFLAGS = -lcap -lpthread -lrt

OBJS = buffer.o  mailbox-lf.o  monitoring.o  scheduler.o  stream.o  \
          streamset.o  task.o  taskqueue.o  lpel_main.o  worker.o \
          ctx_amd64.o
          # mailbox-lf.o


all: liblpel.a

liblpel.a: $(OBJS)
	ar ru $@ $(OBJS)

%.o: %.c
	gcc -c $< $(CFLAGS)

%.o: %.S
	gcc -c $< $(CFLAGS)

clean:
	rm -fr *.o liblpel.a
